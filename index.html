<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Выбор курса</title>
    <style>
        /* Стили для скрытия элементов */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <form id="userForm">
        <label for="course">Выберите курс:</label>
        <select id="course" name="course" required>
            <option value="1">Курс 1</option>
            <option value="2">Курс 2</option>
        </select><br>

        <label for="direction">Выберите направление:</label>
        <select id="direction" name="direction" required>
            <option value="management">Менеджмент</option>
            <option value="pmi">ПМИ</option>
            <option value="jurisprudence">Юриспруденция</option>
        </select><br>

        <label for="password">Введите пароль:</label>
        <input type="password" id="password" name="password" required><br>

        <button type="submit">Отправить</button>
    </form>

    <div id="schedule"></div>

    <script>
        // Функция для проверки, сохранены ли данные пользователя
        function checkUserData() {
            const userId = localStorage.getItem('userId');
            if (userId) {
                const userCourse = localStorage.getItem('course');
                const userDirection = localStorage.getItem('direction');
                showSchedule(userCourse, userDirection);
                // Скрываем форму, если данные уже сохранены
                document.getElementById('userForm').classList.add('hidden');
            }
        }

        // Функция для отображения расписания
        function showSchedule(course, direction) {
            const scheduleDiv = document.getElementById('schedule');
            scheduleDiv.innerHTML = `<h2>Расписание для курса ${course} и направления ${direction}</h2>`;
            // Здесь можно добавить логику для отображения реального расписания
        }

        // Обработчик отправки формы пользователя
        document.getElementById('userForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const course = document.getElementById('course').value;
            const direction = document.getElementById('direction').value;
            const password = document.getElementById('password').value;

            // Проверка пароля
            if (password === '12345678') {
                const userId = 'user-telegram-id'; // Замените на реальный ID пользователя Telegram
                saveUserId(userId, course, direction);
                showSchedule(course, direction);
                // Скрываем форму после ввода данных
                document.getElementById('userForm').classList.add('hidden');
            } else {
                alert('Неверный пароль');
            }
        });

        // Функция для сохранения ID пользователя
        function saveUserId(userId, course, direction) {
            let users = JSON.parse(localStorage.getItem('users')) || [];
            const user = { id: userId, course: course, direction: direction };
            users.push(user);
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('userId', userId);
            localStorage.setItem('course', course);
            localStorage.setItem('direction', direction);
        }

        // Проверка данных пользователя при загрузке страницы
        window.onload = function() {
            checkUserData();
        }
    </script>
</body>
</html>